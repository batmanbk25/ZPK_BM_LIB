*&---------------------------------------------------------------------*
*&  Include           ZIN_BM_REPORT_F01
*&---------------------------------------------------------------------*

INITIALIZATION.
  PERFORM 0000_BM_INIT_PROC.

AT SELECTION-SCREEN OUTPUT.
  PERFORM 1000_BM_PBO.

AT SELECTION-SCREEN.
  PERFORM 1000_BM_PAI.

START-OF-SELECTION.
  PERFORM 0000_BM_MAIN_PROC.

*&---------------------------------------------------------------------*
*&      Form  0000_BM_INIT_PROC
*&---------------------------------------------------------------------*
*       Init process
*----------------------------------------------------------------------*
FORM  0000_BM_INIT_PROC.

  CALL FUNCTION 'ZFM_SCR_INIT'.

  PERFORM 0000_INIT_PROC IN PROGRAM (SY-REPID) IF FOUND.

ENDFORM.

*&---------------------------------------------------------------------*
*&      Form  1000_BM_PBO
*&---------------------------------------------------------------------*
*       PBO
*----------------------------------------------------------------------*
FORM 1000_BM_PBO .
  CALL FUNCTION 'ZFM_SCR_PBO'.

  PERFORM 1000_PBO IN PROGRAM (SY-REPID) IF FOUND.
ENDFORM.                    " 1000_BM_PBO

*&---------------------------------------------------------------------*
*&      Form  1000_BM_PAI
*&---------------------------------------------------------------------*
*       PAI
*----------------------------------------------------------------------*
FORM 1000_BM_PAI .
  CALL FUNCTION 'ZFM_SCR_PAI'.

  PERFORM 1000_PAI IN PROGRAM (SY-REPID) IF FOUND.
ENDFORM.                    " 1000_BM_PAI

*&---------------------------------------------------------------------*
*&      Form  0000_BM_MAIN_PROC
*&---------------------------------------------------------------------*
*       Main process
*----------------------------------------------------------------------*
FORM 0000_BM_MAIN_PROC .
  PERFORM 1010_BM_GET_DATA.

  PERFORM 1020_BM_PROCESS_DATA.

  PERFORM 1030_BM_SHOW_DATA.
ENDFORM.                    " 0000_BM_MAIN_PROC

*&---------------------------------------------------------------------*
*&      Form  1010_BM_GET_DATA
*&---------------------------------------------------------------------*
*       Get data
*----------------------------------------------------------------------*
FORM 1010_BM_GET_DATA .
  PERFORM 1011_BM_GET_MAIN_DATA.

  PERFORM 1012_BM_GET_DESC_DATA.
ENDFORM.                    " 1010_BM_GET_DATA

*&---------------------------------------------------------------------*
*&      Form  1011_BM_GET_MAIN_DATA
*&---------------------------------------------------------------------*
*       text
*----------------------------------------------------------------------*
FORM 1011_BM_GET_MAIN_DATA .
  PERFORM 1011_GET_MAIN_DATA IN PROGRAM (SY-REPID) IF FOUND.
ENDFORM.                    " 1011_BM_GET_MAIN_DATA

*&---------------------------------------------------------------------*
*&      Form  1012_BM_GET_DESC_DATA
*&---------------------------------------------------------------------*
*       text
*----------------------------------------------------------------------*
FORM 1012_BM_GET_DESC_DATA .
  PERFORM 1012_BM_GET_DESC_DATA IN PROGRAM (SY-REPID) IF FOUND.
ENDFORM.                    " 1012_BM_GET_DESC_DATA

*&---------------------------------------------------------------------*
*&      Form  1020_BM_PROCESS_DATA
*&---------------------------------------------------------------------*
*       Process data
*----------------------------------------------------------------------*
FORM 1020_BM_PROCESS_DATA .

  PERFORM 1021_BM_FILTER_DATA.

  PERFORM 1022_BM_AGGREGATE_DATA.

  PERFORM 1023_BM_LOCK_DATA.

  PERFORM 1024_BM_BACKUP_DATA.

ENDFORM.                    " 1020_BM_PROCESS_DATA

*&---------------------------------------------------------------------*
*&      Form  1021_BM_FILTER_DATA
*&---------------------------------------------------------------------*
*       FIlter data: (Authorize, restrict, check exists before)
*----------------------------------------------------------------------*
FORM 1021_BM_FILTER_DATA .
  PERFORM 1021_FILTER_DATA IN PROGRAM (SY-REPID) IF FOUND.
ENDFORM.                    " 1021_BM_FILTER_DATA

*&---------------------------------------------------------------------*
*&      Form  1022_BM_AGGREGATE_DATA
*&---------------------------------------------------------------------*
*       Aggregate data: Set main data, description data
*----------------------------------------------------------------------*
FORM 1022_BM_AGGREGATE_DATA .
  PERFORM 1022_AGGREGATE_DATA IN PROGRAM (SY-REPID) IF FOUND.
ENDFORM.                    " 1022_BM_AGGREGATE_DATA

*&---------------------------------------------------------------------*
*&      Form  1023_BM_LOCK_DATA
*&---------------------------------------------------------------------*
*       Check lock data if need
*----------------------------------------------------------------------*
FORM 1023_BM_LOCK_DATA .
  PERFORM 1023_LOCK_DATA IN PROGRAM (SY-REPID) IF FOUND.
ENDFORM.                    " 1023_BM_LOCK_DATA

*&---------------------------------------------------------------------*
*&      Form  1024_BM_BACKUP_DATA
*&---------------------------------------------------------------------*
*       Backup data before output
*----------------------------------------------------------------------*
FORM 1024_BM_BACKUP_DATA .
  PERFORM 1024_BACKUP_DATA IN PROGRAM (SY-REPID) IF FOUND.
ENDFORM.                    " 1024_BM_BACKUP_DATA

*&---------------------------------------------------------------------*
*&      Form  1030_BM_SHOW_DATA
*&---------------------------------------------------------------------*
*       Show data
*----------------------------------------------------------------------*
FORM 1030_BM_SHOW_DATA .
  PERFORM 1031_BM_INIT_SHOW_OBJ.

  PERFORM 1032_BM_DISPLAY_DATA.
ENDFORM.                    " 1030_BM_SHOW_DATA

*&---------------------------------------------------------------------*
*&      Form  1031_BM_INIT_SHOW_OBJ
*&---------------------------------------------------------------------*
*       Initilize Objects: ALV, tree ...
*----------------------------------------------------------------------*
FORM 1031_BM_INIT_SHOW_OBJ .

ENDFORM.                    " 1031_BM_INIT_SHOW_OBJ

*&---------------------------------------------------------------------*
*&      Form  1032_BM_DISPLAY_DATA
*&---------------------------------------------------------------------*
*       text
*----------------------------------------------------------------------*
FORM 1032_BM_DISPLAY_DATA .

ENDFORM.                    " 1032_BM_DISPLAY_DATA
